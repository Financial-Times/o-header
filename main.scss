@import "o-assets/main";
@import "o-grid/main";
@import "o-fonts/main";
@import "o-colors/main";
@import "o-hoverable/main";

@import '_variables';
@import '_mixins';


/* Load fonts */
@if (not $o-ft-header-is-silent) {
	@include oFontsInclude(BentonSans);
}


@if ($o-ft-header-sticky) {
	@if (length($o-ft-header-sticky) > 0) {
		
		@if (length($o-ft-header-sticky) < 4) {
			@include oFtHeaderPositionStatic();
		}

		@if (length($o-ft-header-sticky) == 4) {
			@include oFtHeaderPositionFixed();
		} @else {
			@each $layout in $o-ft-header-sticky {
				@include oGridRespondTo($layout) {
					@include oFtHeaderPositionFixed(); 
				}
			}				
		}	

	} @else {
		@include oFtHeaderPositionFixed();
	}
	
} @else {
	@include oFtHeaderPositionStatic();
}

.o-ft-header {
    margin-bottom: 10px;
}

.o-ft-header__topbar {
    height: 50px;
    background-color: oColorsGetColorFor(header-background);
}

.o-ft-header__topbar__content {
	@extend %o-grid-row;
	@extend %o-grid-col;
	@extend %o-grid-colspan-12;
	@extend %o-grid-no-right-gutter;
}

.o-ft-header__logo {
	display: block;
	padding: 11px 0 31px;
	width: 82px;
	height: 35px;
	font-size: 50px;
	text-align: center;
	line-height: 35px;
	color: oColorsGetColorFor(ft-initials, text);
	float: left;
	background: #ffe2c6; 
	background: -moz-linear-gradient(top,  #ffe2c6 0%, #f7d8b9 100%); /* FF3.6+ */
	background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffe2c6), color-stop(100%,#f7d8b9)); /* Chrome,Safari4+ */
	background: -webkit-linear-gradient(top,  #ffe2c6 0%,#f7d8b9 100%); /* Chrome10+,Safari5.1+ */
	background: -o-linear-gradient(top,  #ffe2c6 0%,#f7d8b9 100%); /* Opera 11.10+ */
	background: -ms-linear-gradient(top,  #ffe2c6 0%,#f7d8b9 100%); /* IE10+ */
	background: linear-gradient(to bottom,  #ffe2c6 0%,#f7d8b9 100%); /* W3C */

	> abbr {	
		display: block;
		height: 35px;
		width: 100%; // needed for firefox with svg
		background: url(oFtHeaderAsset('img/ft-logo.gif')) no-repeat; 
		// the weird value for rgba is to prevent sass converting rgba(0,0,0,0) to 'transparent', which would cause the following line of css to be understood by ie7/8 and the svg to be downloaded
		background: rgba(0,0,0,0.001) url(oFtHeaderAsset('img/ft-logo.svg')) no-repeat;
		text-indent: 100%;
		white-space: nowrap;
		overflow: hidden;
	}
}

@include oGridRespondTo(S) {

	.csstransforms .o-ft-header__logo {
        -webkit-transform: scale(0.8);
        -webkit-transform-origin: top left;
	}
}

@media print {
	.o-ft-header__logo abbr {
		text-indent: 0;
	}	
}

.o-ft-header__topbar__items {
	text-align: right;
	overflow: hidden;
	height: 50px;
	float: right;
}

$o-ft-header-topbar-item-selector: #{'%o-ft-header__topbar__item'};
$o-ft-header-topbar-item-active-selector: #{'%o-ft-header__topbar__item--active'};

@if (not $o-ft-header-is-silent) {
	$o-ft-header-topbar-item-selector: append($o-ft-header-topbar-item-selector, #{'.o-ft-header__topbar__item'}, comma);
	$o-ft-header-topbar-item-active-selector: append($o-ft-header-topbar-item-active-selector, #{'.o-ft-header__topbar__item--active'}, comma);
}

@mixin _oFtHeaderItemActiveStyles () {
	color: oColorsGetColorFor(header-item-active, text);
	background-color: oColorsGetColorFor(header-item-active, background);
}

#{$o-ft-header-topbar-item-selector} {
	float: left;
	min-width: 50px;
	height: 50px;
	font-family: $o-fonts-bentonsans-normal;
	text-align: center;
	color: oColorsGetColorFor(header-item, text);
	background-color: oColorsGetColorFor(header-item, background);
	border-right: 1px solid oColorsGetColorFor(header-item, border);
	font-size: 25px;
	line-height: 50px;
	cursor: pointer;
	text-decoration: none;

	#{$o-hoverable-if-hover-enabled} &:hover {
		@include _oFtHeaderItemActiveStyles();
		text-decoration: none;
	}		
	&:first-child {
		border-left: 1px solid oColorsGetColorFor(header-item, border);
	}
}

@include oGridRespondTo(S M) {
	#{$o-ft-header-topbar-item-selector}  {
		&:last-child {
			border-right: none;
		}
	}

	#{$o-ft-header-topbar-item-active-selector} {
		border-right: none;
	}
}


#{$o-ft-header-topbar-item-active-selector} {
	@include _oFtHeaderItemActiveStyles();
}